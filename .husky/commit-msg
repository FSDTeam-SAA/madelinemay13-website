
# Run commitlint and capture exit code
npx --no-install commitlint --edit "$1"
status=$?

# If commitlint fails, show a nice message and stop commit
if [ $status -ne 0 ]; then
  echo ""
  echo "🚫 ❌ Commit rejected!"
  echo "------------------------------------------------------------"
  echo "🧭 Please follow the Conventional Commit format:"
  echo "👉  <type>: <short description>"
  echo ""
  echo "📘 Example formats:"
  echo "   feat: add hero section in homepage"
  echo "   fix: resolve navbar alignment issue"
  echo "   docs: update README with setup instructions"
  echo "------------------------------------------------------------"
  echo "💡 Common types: feat, fix, docs, style, refactor, test, chore"
  echo "------------------------------------------------------------"
  echo "🔗 Learn more: https://www.conventionalcommits.org/en/v1.0.0/"
  echo ""
  exit 1
fi
